#################################################################
#                                                               #
# Comcerto 1000's Admittance and Scheduler configuration file   #
#                                                               #
#################################################################


##################################################################
# WAN
##################################################################
[ADM0_MODE]
# 0: discard mode ; 1: flow control mode; 2: admittance disabled
mode = 0

[ADM0_DISCARD_CONF]
# zone drop probalities (8 means 1/8 of packets are dropped if zone_prob3 is reached)
zone_prob0 = 0
zone_prob1 = 1
zone_prob2 = 4
zone_prob3 = 8
# Minimum average ingress queue depth allowed before unmanaged traffic is subject to probabilistic dropping  (% of queue full value)
queue_drop_min = 94
# Maximum average ingress queue depth allowed before all unmanaged traffic is dropped (% of queue full value)
queue_drop_max = 96

[ADM0_FLOWCTRL_CONF]
# The instantaneous ingress queue depth where Ethernet flow-control is disabled
off_tresh = 90
# The instantaneous ingress queue depth where Ethernet flow-control is enabled
on_tresh = 96
# Pause frame interval (in units of gemac clock cycles @125Mhz)
pause_timer = 0x7FFF

[ADM0_SHAPER_CONF]
enable = 0
# ingress port shaper rate in bps (min=64Kbps; max=2.4Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048
# packet overhead bytes count (min=0; max=255)
overhead = 0

[ADM0_LRU_CONF]
# admittance LRU period in seconds (0 - 30s)
period = 0
# 32bit mask used to unselect a given TCAM entry from the LRU logic (0 - 0xFFFFFFFF)
mask = 0xffffffc0

[ADM0_TCAM_NUM_ENTRY]
# number of TCAM entries to be applied to ADM0 
num_cam_entry = 9

# VoIP stream
[ADM0_TCAM_ENTRY0]
# select the associated Policer (0: no policer; 1: policer1; 2: policer2)
policer = 0
# select traffic as Reserved, Managed or Dropped (Reserved: drop=0 reserved=1; Managed: drop=0 reserved=0; Dropped: drop=1 reserved=0)
drop = 0 
reserved = 1 
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 17
# IPv6 addresses:
# saddr and daddr should be specified in a format like 2001:0db8:85a3:08d3:1319:8a2e:0370:7348
# only lower 32bits of an IPv6 address are used by the HW TCAM. Uppers 96bits bits are ignored.
# IPv4 addresses:
# saddr and daddr should be specified in  format like 192.168.1.1
# the whole 32bits of an IPv4 adress are used by the HW TCAM.
saddr = 0.0.0.0 
daddr = 0.0.0.0
sport_max = 50000 
sport_min = 30000
dport_max = 50000
dport_min = 30000 
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
# IPv6 masks:
# saddr_mask and daddr_mask should be specified in a netmask format (e.g. ffff:ffff:ffff:ffff:ffff:ffff:0000:0000)
# only lower 32bits of an IPv6 address mask are used by the HW TCAM. Uppers 96bits bits are ignored.
# IPv4 masks:
# saddr_mask and daddr_mask should be specified in a netmask format (e.g. 255.255.255.255)
# the whole 32bits of an IPv4 adress are used by the HW TCAM.
saddr_mask = 0.0.0.0 
daddr_mask = 0.0.0.0
sport_enable = 1
dport_enable = 1
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

# ICMPv4
[ADM0_TCAM_ENTRY1]
policer = 0
drop = 0 
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 1
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0 
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

# ARP (0x0806)
[ADM0_TCAM_ENTRY2]
policer = 0
drop = 0 
reserved = 1
etype = 0x0806
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 0
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0xffff
vlan_mask = 0
saddr_mask = 0.0.0.0 
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0
broadcast_mask = 0
multicast_mask = 0

#ICMPv6 / MLD
[ADM0_TCAM_ENTRY3]
policer = 0
drop = 0 
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 58
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

# SIP
[ADM0_TCAM_ENTRY4]
policer = 0
drop = 0 
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 17
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 5061
sport_min = 5060
dport_max = 5061
dport_min = 5060
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0
sport_enable = 1 
dport_enable = 1
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0
broadcast_mask = 0
multicast_mask = 0

# IGMP
[ADM0_TCAM_ENTRY5]
policer = 0
drop = 0 
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 2
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

# PPPOE Session
[ADM0_TCAM_ENTRY6]
policer = 0
drop = 0 
reserved = 1
etype = 0x8864
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 0
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0xffff
vlan_mask = 0
saddr_mask = 0.0.0.0 
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0x3
iptos_mask = 0
ipproto_mask = 0
broadcast_mask = 0
multicast_mask = 0

# PPPOE Discovery
[ADM0_TCAM_ENTRY7]
policer = 0
drop = 0 
reserved = 1
etype = 0x8863
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 0
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0xffff
vlan_mask = 0
saddr_mask = 0.0.0.0 
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0
broadcast_mask = 0
multicast_mask = 0

# MGCP 
[ADM0_TCAM_ENTRY8]
policer = 0
drop = 0 
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 17
saddr = 0.0.0.0 
daddr = 0.0.0.0
sport_max = 0 
sport_min = 0
dport_max = 2427
dport_min = 2427
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
saddr_mask = 0.0.0.0 
daddr_mask = 0.0.0.0
sport_enable = 0
dport_enable = 1 
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

[ADM0_POLICER0]
enable = 0
# policer rate in pps (min=15; max=243664)
rate = 0
# policer maximum credit accumulator in pps (min=0; max=1Mpps)
max_credit = 0

[ADM0_POLICER1]
enable = 0
# policer rate in pps (min=15; max=243664)
rate = 0
# policer maximum credit accumulator in pps (min=0; max=1Mpps)
max_credit = 0

[SCH0_SHAPER0]
# port shaper
enable = 0
# shaper rate in bps (min=64Kbps; max=1Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048

[SCH0_SHAPER1]
# DWRR shaper
enable = 0
# shaper rate in bps (min=64Kbps; max=1Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048

[SCH0_SHAPER2]
# Q6 shaper
enable = 0
# shaper rate in bps (min=64Kbps; max=1Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048

[SCH0_SHAPER3]
# Q7 shaper
enable = 0
# shaper rate in bps (min=64Kbps; max=1Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048

# DWRR Group weight (Q1 to Q5)
[SCH0_QUEUE1_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

[SCH0_QUEUE2_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

[SCH0_QUEUE3_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

[SCH0_QUEUE4_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

[SCH0_QUEUE5_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

##############################################
# (LAN)
#############################################
[ADM1_MODE]
# 0: discard mode ; 1: flow control mode; 2: admittance disabled
mode = 0

[ADM1_DISCARD_CONF]
# zone drop probalities (8 means 1/8 of packets are dropped if zone_prob3 is reached)
zone_prob0 = 0
zone_prob1 = 1
zone_prob2 = 4
zone_prob3 = 8
# Minimum average ingress queue depth allowed before unmanaged traffic is subject to probabilistic dropping  (% of queue full value)
queue_drop_min = 94
# Maximum average ingress queue depth allowed before all unmanaged traffic is dropped (% of queue full value)
queue_drop_max = 96

[ADM1_FLOWCTRL_CONF]
# The instantaneous ingress queue depth where Ethernet flow-control is disabled
off_tresh = 90
# The instantaneous ingress queue depth where Ethernet flow-control is enabled
on_tresh = 96
# Pause frame interval (in units of gemac clock cycles @125Mhz)
pause_timer = 0x7FFF

[ADM1_SHAPER_CONF]
enable = 0
# ingress port shaper rate in bps (min=64Kbps; max=2.4Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=2048; max=1MBps)
max_credit = 2048
# packet overhead bytes count (min=0; max=255)
overhead = 0

[ADM1_LRU_CONF]
# admittance LRU period in seconds (0 - 30s)
period = 0
# 32bit mask used to unselect a given TCAM entry from the LRU logic (0 - 0xFFFFFFFF)
mask = 0xffffffe0

[ADM1_TCAM_NUM_ENTRY]
# number of TCAM entries to be applied to ADM0 
num_cam_entry = 5

# ICMPv4
[ADM1_TCAM_ENTRY0]
# select the associated Policer (0: no policer; 1: policer1; 2: policer2)
policer = 0
# select traffic as Reserved, Managed or Dropped (Reserved: drop=0 reserved=1; Managed: drop=0 reserved=0; Dropped: drop=1 reserved=0)
drop = 0 
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 1
# IPv6 addresses:
# saddr and daddr should be specified in a format like 2001:0db8:85a3:08d3:1319:8a2e:0370:7348
# only lower 32bits of an IPv6 address are used by the HW TCAM. Uppers 96bits bits are ignored.
# IPv4 addresses:
# saddr and daddr should be specified in  format like 192.168.1.1
# the whole 32bits of an IPv4 adress are used by the HW TCAM.
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
# IPv6 masks:
# saddr_mask and daddr_mask should be specified in a netmask format (e.g. ffff:ffff:ffff:ffff:ffff:ffff:0000:0000)
# only lower 32bits of an IPv6 address mask are used by the HW TCAM. Uppers 96bits bits are ignored.
# IPv4 masks:
# saddr_mask and daddr_mask should be specified in a netmask format (e.g. 255.255.255.255)
# the whole 32bits of an IPv4 adress are used by the HW TCAM.
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

# ARP (0x0806)
[ADM1_TCAM_ENTRY1]
policer = 0
drop = 0
reserved = 1
etype = 0x0806
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 0
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0xffff
vlan_mask = 0
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0
broadcast_mask = 0
multicast_mask = 0

#ICMPv6 / MLD
[ADM1_TCAM_ENTRY2]
policer = 0
drop = 0
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 58
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

# IGMP
[ADM1_TCAM_ENTRY3]
policer = 0
drop = 0
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 2
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 0
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

# HTTP (GUI)
[ADM1_TCAM_ENTRY4]
policer = 0
drop = 0
reserved = 1
etype = 0
vlan = 0
pppoe_ipv4 = 0
pppoe_ipv6 = 0
iptos = 0
ipproto = 6
saddr = 0.0.0.0
daddr = 0.0.0.0
sport_max = 0
sport_min = 0
dport_max = 0
dport_min = 80
multicast = 0
broadcast = 0
etype_mask = 0
vlan_mask = 0
saddr_mask = 0.0.0.0
daddr_mask = 0.0.0.0
sport_enable = 0 
dport_enable = 0
pppoe_mask = 0
iptos_mask = 0
ipproto_mask = 0xff
broadcast_mask = 0
multicast_mask = 0

[ADM1_POLICER0]
enable = 0
# policer rate in pps (min=15; max=243664)
rate = 0
# policer maximum credit accumulator in  pps (min=0; max=1Mpps)
max_credit = 0

[ADM1_POLICER1]
enable = 0
# policer rate in pps (min=15; max=243664)
rate = 0
# policer maximum credit accumulator in  pps (min=0; max=1Mpps)
max_credit = 0

[SCH1_SHAPER0]
# port shaper
enable = 0
# shaper rate in bps (min=64Kbps; max=1Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048

[SCH1_SHAPER1]
# DWRR shaper
enable = 0
# shaper rate in bps (min=64Kbps; max=1Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048

[SCH1_SHAPER2]
# Q6 shaper
enable = 0
# shaper rate in bps (min=64Kbps; max=1Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048

[SCH1_SHAPER3]
# Q7 shaper
enable = 0
# shaper rate in bps (min=64Kbps; max=1Gbps)
rate = 0
# shaper maximum credit accumulator in Bps (min=0; max=1MBps)
max_credit = 2048

# DWRR Group weight (Q1 to Q5)
[SCH1_QUEUE1_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

[SCH1_QUEUE2_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

[SCH1_QUEUE3_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

[SCH1_QUEUE4_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0

[SCH1_QUEUE5_WEIGHT]
# weigth of queue in Bytes (min=0; max=1MB)
weight = 0
